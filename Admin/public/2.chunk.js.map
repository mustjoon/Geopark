{"version":3,"file":"2.chunk.js","sources":["webpack:///./src/app/+barrel/Modal/modal.component.html","webpack:///./src/app/+barrel/barrel.component.html","webpack:///./src/app/+barrel/barrel.component.css?9125","webpack:///./src/app/+barrel/index.ts","webpack:///./src/app/+barrel/barrel.component.ts","webpack:///./src/app/+barrel/Modal/modal.component.ts","webpack:///./src/app/+barrel/barrel.module.ts","webpack:///./src/app/+barrel/barrel.routes.ts","webpack:///./src/app/+barrel/barrel.component.css"],"sourcesContent":["module.exports = \"<button #editUserButton mdl-button mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\"\\r\\n        mdl-ripple (click)=\\\"editUserDialog.show()\\\">Edit User Dialog</button>\\r\\n\\r\\n\\r\\n<mdl-dialog #editUserDialog\\r\\n            [mdl-dialog-config]=\\\"{\\r\\n              clickOutsideToClose: true,\\r\\n              styles:{'width': '300px'},\\r\\n              isModal:true,\\r\\n              openFrom: editUserButton,\\r\\n              enterTransitionDuration: 400,\\r\\n              leaveTransitionDuration: 400}\\\"\\r\\n              (show)=\\\"onDialogShow(dialogRef)\\\"\\r\\n              (hide)=\\\"onDialogHide()\\\"\\r\\n           >\\r\\n  <h3 class=\\\"mdl-dialog__title\\\">Aseta uusi piste</h3>\\r\\n  <div class=\\\"mdl-dialog__content\\\">\\r\\n    <mdl-textfield type=\\\"text\\\" label=\\\"Nimi\\\" [(ngModel)]=\\\"name\\\" floating-label autofocus></mdl-textfield>\\r\\n    <mdl-textfield type=\\\"text\\\" label=\\\"Info\\\" [(ngModel)]=\\\"info\\\" floating-label autofocus></mdl-textfield>\\r\\n    <input type=\\\"file\\\" label=\\\"Image\\\" (change)=\\\"readFile($event)\\\"  floating-label autofocus/>\\r\\n  </div>\\r\\n  <div class=\\\"mdl-dialog__actions\\\">\\r\\n    <button mdl-button (click)=\\\"savePoint()\\\" mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\" mdl-ripple>Save</button>\\r\\n    <button mdl-button (click)=\\\"editUserDialog.close()\\\" mdl-ripple>Cancel</button>\\r\\n  </div>\\r\\n</mdl-dialog>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+barrel/Modal/modal.component.html\n// module id = 1000\n// module chunks = 2","module.exports = \"<div id=\\\"googleMap\\\" style=\\\"width:500px;height:380px;\\\"></div>\\r\\n  \\r\\n<!--<ul>\\r\\n    <li class=\\\"text\\\" *ngFor=\\\"let item of items | async\\\">\\r\\n        {{item.$key}} {{item.info}}  {{item.lat}}  {{item.lng}}\\r\\n    </li>\\r\\n</ul>-->\\r\\n\\r\\n<div> {{ guideTxt }} </div>\\r\\n<!-- Colored raised button -->\\r\\n<button class=\\\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored\\\" (click)=\\\"UusiKohde('Lisää uusi kohde.')\\\">\\r\\n  Aloita uusi reitti\\r\\n</button>\\r\\n\\r\\n<Modal></Modal>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+barrel/barrel.component.html\n// module id = 1001\n// module chunks = 2","\n        var result = require(\"!!./../../../node_modules/css-loader/index.js!./barrel.component.css\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+barrel/barrel.component.css\n// module id = 1012\n// module chunks = 2","export { BarrelModule } from './barrel.module';\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/+barrel/index.ts","import {AngularFire, FirebaseListObservable} from 'angularfire2';\r\nimport {MdlDialogModule, MdlSnackbaModule,MdlDialogReference} from 'angular2-mdl';\r\nimport { Overlay } from 'angular2-modal';\r\nimport {ModalComponent} from './Modal/modal';\r\n\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  ViewContainerRef \r\n} from '@angular/core';\r\n\r\nimport {\r\n  AgmCoreModule\r\n} from 'angular2-google-maps/core';\r\n/*\r\n * We're loading this component asynchronously\r\n * We are using some magic with es6-promise-loader that will wrap the module with a Promise\r\n * see https://github.com/gdi2290/es6-promise-loader for more info\r\n */\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'barrel',\r\n  template: require('./barrel.component.html'),\r\n  styles: [require('./barrel.component.css')],\r\n})\r\nexport class BarrelComponent extends OnInit {\r\n \r\n  \r\n    items: FirebaseListObservable<any[]>;\r\n    map: any;\r\n    waitingForPoint : boolean = false;\r\n    guideText : string;\r\n\r\n\r\n\r\n\r\n    constructor(af: AngularFire,private _dialog: MdlDialogModule, private _snackbar: MdlSnackbaModule){\r\n        super();\r\n        this.items = af.database.list('/Kohteet');\r\n        \r\n    }\r\n\r\n       \r\n    \r\n    \r\n    public ngOnInit() { \r\n\r\n       var mapProp = {\r\n              center: new google.maps.LatLng(51.508742, -0.120850),\r\n              zoom: 5,\r\n              mapTypeId: google.maps.MapTypeId.ROADMAP\r\n          };\r\n\r\n         this.map = new google.maps.Map(document.getElementById(\"googleMap\"), mapProp);\r\n         let map = this.map;\r\n         \r\n         let SLPLayer = this.getSLPlayer(map);\r\n         this.map.overlayMapTypes.push(SLPLayer);\r\n     \r\n          let temp = this;\r\n          map.addListener(\"click\", function(e){\r\n            if(temp.waitingForPoint == false){\r\n                console.log(\"start first\");\r\n             }\r\n             else{\r\n               console.log(\"pressed\");\r\n              }\r\n          }); \r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n\r\n    public getSLPlayer(map){\r\n      return new google.maps.ImageMapType({\r\n                      getTileUrl: function (coord, zoom) {\r\n\r\n                          var proj = map.getProjection();\r\n                          var zfactor = Math.pow(2, zoom);\r\n                          // get Long Lat coordinates\r\n                          var top = proj.fromPointToLatLng(new google.maps.Point(coord.x * 256 / zfactor, coord.y * 256 / zfactor));\r\n                          var bot = proj.fromPointToLatLng(new google.maps.Point((coord.x + 1) * 256 / zfactor, (coord.y + 1) * 256 / zfactor));\r\n\r\n                          //corrections for the slight shift of the SLP (mapserver)\r\n                          var deltaX = 0.0013;\r\n                          var deltaY = 0.00058;\r\n\r\n                          //create the Bounding box string\r\n                          var bbox =     (top.lng() + deltaX) + \",\" +\r\n                                       (bot.lat() + deltaY) + \",\" +\r\n                                       (bot.lng() + deltaX) + \",\" +\r\n                                       (top.lat() + deltaY);\r\n\r\n                          //base WMS URL\r\n                          var url = \"http://tiles.kartat.kapsi.fi/peruskartta?\";\r\n                          url += \"&REQUEST=GetMap\"; //WMS operation\r\n                          url += \"&SERVICE=WMS\";    //WMS service\r\n                          url += \"&VERSION=1.1.1\";  //WMS version  \r\n                        //  url += \"&LAYERS=\" + \"typologie,hm2003\"; //WMS layers\r\n                          url += \"&FORMAT=image/png\" ; //WMS format\r\n                          url += \"&BGCOLOR=0xFFFFFF\";  \r\n                          url += \"&TRANSPARENT=TRUE\";\r\n                          url += \"&SRS=EPSG:4326\";     //set WGS84 \r\n                          url += \"&BBOX=\" + bbox;      // set bounding box\r\n                          url += \"&WIDTH=256\";         //tile size in google\r\n                          url += \"&HEIGHT=256\";\r\n                          url += \"&LAYERS=peruskartta\";\r\n\r\n                          return url;                 // return URL for the tile\r\n\r\n                      },\r\n                      tileSize: new google.maps.Size(256, 256),\r\n                      isPng: true\r\n                  });\r\n    }\r\n\r\n    public MapClick(e){\r\n     // console.log(waitingForPoint);\r\n     \r\n      if(this.waitingForPoint == false){\r\n        console.log(\"start first\");\r\n      }\r\n      else{\r\n         console.log(\"pressed\");\r\n      }\r\n     \r\n    }\r\n\r\n    public UusiKohde(text){\r\n      this.guideText = text;\r\n      this.waitingForPoint = true;\r\n\r\n    }\r\n\r\n\r\n    // google maps zoom level\r\n    zoom: number = 8;\r\n\r\n    // initial center position for the map\r\n    lat: number = 51.673858;\r\n    lng: number = 7.815982;\r\n\r\n    clickedMarker(label: string, index: number) {\r\n     console.log(`clicked the marker: ${label || index}`)\r\n    }\r\n\r\n    mapClicked($event) {\r\n      console.log(\"HOMo\");\r\n\r\n      this.markers.push({\r\n       lat: $event.coords.lat,\r\n       lng: $event.coords.lng,\r\n       label: 'A',\r\n       draggable: true\r\n     });\r\n    }\r\n\r\n    markerDragEnd(m: marker, $event: MouseEvent) {\r\n     console.log('dragEnd', m, $event);\r\n    }\r\n\r\n    markers: marker[] = [\r\n     {\r\n       lat: 51.673858,\r\n       lng: 7.815982,\r\n       label: 'A',\r\n       draggable: true\r\n     },\r\n     {\r\n       lat: 51.373858,\r\n       lng: 7.215982,\r\n       label: 'B',\r\n       draggable: false\r\n     },\r\n     {\r\n       lat: 51.723858,\r\n       lng: 7.895982,\r\n       label: 'C',\r\n       draggable: true\r\n     }\r\n    ]\r\n    }\r\n    // just an interface for type safety.\r\n    interface marker {\r\n    lat: number;\r\n    lng: number;\r\n    label?: string;\r\n    draggable: boolean;\r\n    }\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/+barrel/barrel.component.ts","import {MdlDialogReference, MdlSnackbaModule,MdlTextFieldModule} from 'angular2-mdl';\r\nimport { Overlay } from 'angular2-modal';\r\n\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  ViewContainerRef,\r\n  HostListener \r\n} from '@angular/core';\r\n\r\n @Component({\r\n    selector: 'Modal',\r\n    template: require('./modal.component.html')\r\n  })\r\n  export class ModalComponent {\r\n\r\n    kuva: any;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public savePoint(){\r\n      console.log(this.kuva);\r\n    }  \r\n\r\n    public readFile(event) {\r\n      let kuva = this.kuva; \r\n      if (event.target.files && event.target.files[0]) {\r\n        var FR= new FileReader();\r\n        FR.onload = function(e:any) {\r\n          kuva = e.target.result;\r\n        };       \r\n        FR.readAsDataURL( event.target.files[0] );\r\n      }\r\n    }\r\n\r\n\r\n\r\n    public onDialogShow(dialogRef){\r\n      console.log(\"OK\");\r\n    }\r\n\r\n    public onDialogHide(){\r\n      console.log(\"closed\");\r\n    }\r\n\r\n    public login() {\r\n    //  console.log('login', this.dialog);\r\n    //  this.dialog.hide();\r\n    }\r\n\r\n    @HostListener('keydown.esc')\r\n    public onEsc(): void {\r\n      console.log(this.kuva);\r\n     //   this.dialog.hide();\r\n    }\r\n  }\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/+barrel/Modal/modal.component.ts","import { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AgmCoreModule } from 'angular2-google-maps/core';\r\nimport { routes } from './barrel.routes';\r\nimport { BarrelComponent } from './barrel.component';\r\nimport { MdlModule } from 'angular2-mdl';\r\nimport {ModalComponent} from './Modal/modal.component';\r\n\r\n\r\n\r\nconsole.log('`Barrel` bundle loaded asynchronously');\r\n\r\n@NgModule({\r\n  declarations: [\r\n    // Components / Directives/ Pipes\r\n    BarrelComponent,\r\n    ModalComponent,\r\n   \r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MdlModule,\r\n\r\n    RouterModule.forChild(routes),\r\n    AgmCoreModule.forRoot({\r\n      apiKey: 'AIzaSyB9ZP_cBqTRe2cMhbqKqWCPBnbBoflO4Cc'\r\n    })\r\n  ],\r\n})\r\nexport class BarrelModule {\r\n  public static routes = routes;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/+barrel/barrel.module.ts","import { BarrelComponent } from './barrel.component';\r\n\r\nexport const routes = [\r\n  { path: '', children: [\r\n    { path: '', component: BarrelComponent },\r\n    { path: 'child-barrel', loadChildren: () => System.import('C:\\\\Users\\\\Joonas\\\\Documents\\\\Projektit\\\\Geo\\\\Geopark\\\\Admin\\\\src\\\\app\\\\+barrel\\\\+child-barrel\\\\index')  .then( (module: any) => module['ChildBarrelModule'] ) }\r\n  ]},\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/+barrel/barrel.routes.ts","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".sebm-google-map-container {\\r\\n  height: 300px;\\r\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/app/+barrel/barrel.component.css\n// module id = 991\n// module chunks = 2"],"mappings":";;;;;AAAA;;;;;;;ACAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACRA;AACA;AACA;AACA;;;;;;;;;ACHA;AACA;AAIA;AASA;;;;AAIA;AAUA;AAAA;AAWA;AACA;AADA;AAAA;AANA;AA2GA;AACA;AAEA;AACA;AACA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhJA;AAEA;AAKA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAUA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AA7IA;AAAA;AACA;AACA;AACA;AACA;;AAAA;AA+JA;AAAA;;;;;;;;;;;;;ACvLA;AAWA;AAIA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAJA;AAAA;;;;AAAA;AAzCA;AAAA;AACA;AACA;AACA;;AAAA;AA2CA;AAAA;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAoBA;AAAA;AAEA;AADA;AAnBA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAGA;AAAA;;;;;;;;;;;;;;;;;;;;AClCA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;","sourceRoot":""}